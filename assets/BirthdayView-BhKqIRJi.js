import{d as p,r as v,a as y,c as s,b as n,w as _,v as k,e as h,t as u,f as m,n as w,F as S,g as x,o as i,_ as b}from"./index-BGsY9dqJ.js";const B=["href"],V=["src"],C={class:"frame-inner"},D=p({__name:"BirthdayView",setup(F){const d=v(null),e=y({imageSrc:null,name:"",dl:""});function g(r){return new Promise((t,l)=>{const a=new FileReader;a.onerror=l,a.onload=()=>{var o;return t(((o=a.result)==null?void 0:o.toString())??"")},a.readAsDataURL(r)})}const c=r=>{var a;const l=(a=r.target.files)==null?void 0:a[0];l&&g(l).then(o=>{e.imageSrc=o??""})};function f(){requestAnimationFrame(()=>{d.value!=null&&x(d.value).then(r=>{console.log("data",r.length),e.dl=r})})}return(r,t)=>{var l;return i(),s(S,null,[n("input",{type:"file",onChange:c},null,32),_(n("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>e.name=a),placeholder:"Navn"},null,512),[[k,e.name]]),n("button",{onClick:t[1]||(t[1]=()=>f())},"Generate image"),h(" "+u((l=e.imageSrc)==null?void 0:l.slice(0,40))+" ",1),e.dl?(i(),s("a",{key:0,class:"linkButton",href:e.dl,type:"image/png",download:"image.png"},"Download",8,B)):m("",!0),t[3]||(t[3]=n("br",null,null,-1)),e.dl?(i(),s("img",{key:1,src:e.dl,alt:"Generated image",width:"100px"},null,8,V)):m("",!0),n("div",{class:"frame",ref_key:"frame",ref:d},[n("div",C,[e.imageSrc?(i(),s("div",{key:0,class:"inner",style:w({backgroundImage:`url('${e.imageSrc}')`}),alt:"Uploaded Image"},[n("header",null,u(e.name||"Navn"),1),t[2]||(t[2]=n("footer",null,"Stab√¶k Akademi 2012",-1))],4)):m("",!0)])],512)],64)}}}),I=b(D,[["__scopeId","data-v-86100b29"]]);export{I as default};
