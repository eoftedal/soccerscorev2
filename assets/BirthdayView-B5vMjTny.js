import{d as y,r as _,a as k,c as i,b as n,w as g,v as p,e as h,t as u,f as m,n as w,F as S,g as x,o as s,_ as b}from"./index-BekTny4d.js";const V=["href"],B=["src"],C={class:"frame-inner"},D=y({__name:"BirthdayView",setup(F){const d=_(null),e=k({imageSrc:null,name:"",dl:"",title:"StabÃ¦k Akademi 2012"});function f(r){return new Promise((t,l)=>{const a=new FileReader;a.onerror=l,a.onload=()=>{var o;return t(((o=a.result)==null?void 0:o.toString())??"")},a.readAsDataURL(r)})}const v=r=>{var a;const l=(a=r.target.files)==null?void 0:a[0];l&&f(l).then(o=>{e.imageSrc=o??""})};function c(){let r=0;requestAnimationFrame(()=>{d.value!=null&&(x(d.value).then(t=>{console.log("data",t.length),e.dl=t}),r++<3&&setTimeout(()=>c(),500))})}return(r,t)=>{var l;return s(),i(S,null,[n("input",{type:"file",onChange:v},null,32),g(n("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>e.name=a),placeholder:"Navn"},null,512),[[p,e.name]]),g(n("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>e.title=a),placeholder:"Tittel"},null,512),[[p,e.title]]),n("button",{onClick:t[2]||(t[2]=()=>c())},"Generate image"),h(" "+u((l=e.imageSrc)==null?void 0:l.slice(0,40))+" ",1),e.dl?(s(),i("a",{key:0,class:"linkButton",href:e.dl,type:"image/png",download:"image.png"},"Download",8,V)):m("",!0),t[3]||(t[3]=n("br",null,null,-1)),e.dl?(s(),i("img",{key:1,src:e.dl,alt:"Generated image",width:"100px"},null,8,B)):m("",!0),n("div",{class:"frame",ref_key:"frame",ref:d},[n("div",C,[e.imageSrc?(s(),i("div",{key:0,class:"inner",style:w({backgroundImage:`url('${e.imageSrc}')`}),alt:"Uploaded Image"},[n("header",null,[n("div",null,u(e.name||"Navn"),1)]),n("footer",null,[n("div",null,u(e.title),1)])],4)):m("",!0)])],512)],64)}}}),I=b(D,[["__scopeId","data-v-ab45cb80"]]);export{I as default};
